openapi: 3.0.2
#!info!#
servers:
  - url: https://api.koios.rest/api/v1
  - url: https://guild.koios.rest/api/v1
  - url: https://preview.koios.rest/api/v1
  - url: https://preprod.koios.rest/api/v1
paths:

  /tip: #RPC
    get:
      tags:
        - Network
      responses:
        "200":
          description: Array of block summary (limit+paginated)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/tip"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Query Chain Tip
      description: Get the tip info about the latest block seen by chain
  /genesis: #RPC
    get:
      tags:
        - Network
      responses:
        "200":
          description: Array of genesis parameters used to start each era on chain
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/genesis"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Get Genesis info
      description: Get the Genesis parameters used to start specific era on chain
  /totals: #RPC
    get:
      tags:
        - Network
      parameters:
        - $ref: "#/components/parameters/_epoch_no"
      responses:
        "200":
          description: Array of supply/reserves/utxo/fees/treasury stats
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/totals"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Get historical tokenomic stats
      description: >-
        Get the circulating utxo, treasury, rewards, supply and reserves in
        lovelace for specified epoch, all epochs if empty
  /param_updates: #RPC
    get:
      tags:
        - Network
      responses:
        "200":
          description: Array of unique param update proposals submitted on chain
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/param_updates"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Param Update Proposals
      description: Get all parameter update proposals submitted to the chain starting Shelley era
  /reserve_withdrawals: #RPC
    get:
      tags:
        - Network
      responses:
        "200":
          description: Array of withdrawals from reserves against stake accounts
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/reserve_withdrawals"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Reserve Withdrawals
      description: List of all withdrawals from reserves against stake accounts
  /treasury_withdrawals: #RPC
    get:
      tags:
        - Network
      responses:
        "200":
          description: Array of withdrawals from treasury against stake accounts
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/reserve_withdrawals"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Treasury Withdrawals
      description: List of all withdrawals from treasury against stake accounts

  /epoch_info: #RPC
    get:
      tags:
        - Epoch
      parameters:
        - $ref: "#/components/parameters/_epoch_no"
        - $ref: "#/components/parameters/_include_next_epoch"
      responses:
        "200":
          description: Array of detailed summary for each epoch
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/epoch_info"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Epoch Information
      description: Get the epoch information, all epochs if no epoch specified
  /epoch_params: #RPC
    get:
      tags:
        - Epoch
      parameters:
        - $ref: "#/components/parameters/_epoch_no"
      responses:
        "200":
          description: Array of protocol parameters for each epoch
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/epoch_params"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Epoch's Protocol Parameters
      description: >-
        Get the protocol parameters for specific epoch, returns information
        about all epochs if no epoch specified
  /epoch_block_protocols: #RPC
    get:
      tags:
        - Epoch
      parameters:
        - $ref: "#/components/parameters/_epoch_no"
      responses:
        "200":
          description: Array of distinct block protocol versions counts in epoch
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/epoch_block_protocols"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Epoch's Block Protocols
      description: >-
        Get the information about block protocol distribution in epoch

  /blocks:
    get:
      tags:
        - Block
      responses:
        "200":
          description: Array of block information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/blocks"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Block List
      description: Get summarised details about all blocks (paginated - latest first)
  /block_info: #RPC
    post:
      tags:
        - Block
      requestBody:
        $ref: "#/components/requestBodies/block_hashes"
      responses:
        "200":
          description: Array of detailed block information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/block_info"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Block Information
      description: Get detailed information about a specific block
  /block_txs: #RPC
    post:
      tags:
        - Block
      requestBody:
        $ref: "#/components/requestBodies/block_hashes"
      responses:
        "200":
          description: Array of transactions hashes
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/block_txs"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Block Transactions
      description: Get a list of all transactions included in provided blocks

  /utxo_info: #RPC
    post:
      tags:
        - Transactions
      requestBody:
        $ref: "#/components/requestBodies/utxo_refs_with_extended"
      responses:
        "200":
          description: Array of UTXO details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utxo_infos"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: UTxO Info
      description: Get UTxO set for requested UTxO references
  /tx_info: #RPC
    post:
      tags:
        - Transactions
      requestBody:
        $ref: "#/components/requestBodies/tx_ids"
      responses:
        "200":
          description: Array of detailed information about transaction(s)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/tx_info"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Transaction Information
      description: Get detailed information about transaction(s)
  /tx_metadata: #RPC
    post:
      tags:
        - Transactions
      requestBody:
        $ref: "#/components/requestBodies/tx_ids"
      responses:
        "200":
          description: Array of metadata information present in each of the transactions queried
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/tx_metadata"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Transaction Metadata
      description: Get metadata information (if any) for given transaction(s)
  /tx_metalabels: #RPC
    get:
      tags:
        - Transactions
      responses:
        "200":
          description: Array of known metadata labels
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/tx_metalabels"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Transaction Metadata Labels
      description: Get a list of all transaction metalabels
  /submittx: #submit-api
    post:
      tags:
        - Transactions
      requestBody:
        $ref: "#/components/requestBodies/txbin"
      x-code-samples:
        - lang: "Shell"
          source: |
            # Assuming ${data} is a raw binary serialized transaction on the file-system.
            # If using a CLI-generated tx file, please ensure to deserialise (using `xxd -p -r <<< $(jq .cborHex ${tx.signed}) > ${data}`) first before submitting.
            curl -X POST \
                --header "Content-Type: application/cbor" \
                --data-binary @${data} https://api.koios.rest/api/v1/submittx
      responses:
        "202":
          description: OK
          content:
            application/json:
              schema:
                description: The transaction id.
                type: string
                format: hex
                minLength: 64
                maxLength: 64
                example: 92bcd06b25dfbd89b578d536b4d3b7dd269b7c2aa206ed518012cffe0444d67f
        "400":
          description: An error occured while submitting transaction.
      summary: Submit Transaction
      description: Submit an already serialized transaction to the network.
  /tx_status: #RPC
    post:
      tags:
        - Transactions
      requestBody:
        $ref: "#/components/requestBodies/tx_ids"
      responses:
        "200":
          description: Array of transaction confirmation counts
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/tx_status"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Transaction Status
      description: Get the number of block confirmations for a given transaction hash list
  /tx_utxos: #RPC
    post:
      tags:
        - Transactions
      deprecated: true
      requestBody:
        $ref: "#/components/requestBodies/tx_ids"
      responses:
        "200":
          description: Array of inputs and outputs for given transaction(s)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/tx_utxos"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Transaction UTxOs
      description: Get UTxO set (inputs/outputs) of transactions [DEPRECATED - Use /utxo_info instead].

  /address_info: #RPC
    post:
      tags:
        - Address
      requestBody:
        $ref: "#/components/requestBodies/payment_addresses"
      responses:
        "200":
          description: Array of address information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/address_info"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Address Information
      description: Get address info - balance, associated stake address (if any) and UTxO set for given addresses
  /address_utxos: #RPC
    post:
      tags:
        - Address
      requestBody:
        $ref: "#/components/requestBodies/payment_addresses_with_extended"
      responses:
        "200":
          description: Array of address UTXOs
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utxo_infos"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Address UTXOs
      description: Get UTxO set for given addresses
  /credential_utxos: #RPC
    post:
      tags:
        - Address
      requestBody:
        $ref: "#/components/requestBodies/credential_utxos"
      responses:
        "200":
          description: Array of UTxOs with balances
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utxo_infos"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: UTxOs from payment credentials
      description: Get UTxO details for requested payment credentials
  /address_txs: #RPC
    post:
      tags:
        - Address
      requestBody:
        $ref: "#/components/requestBodies/address_txs"
      responses:
        "200":
          description: Array of transaction hashes
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/address_txs"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Address Transactions
      description: Get the transaction hash list of input address array, optionally filtering after specified block height (inclusive)
  /credential_txs: #RPC
    post:
      tags:
        - Address
      requestBody:
        $ref: "#/components/requestBodies/credential_txs"
      responses:
        "200":
          description: Array of transaction hashes
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/address_txs"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Transactions from payment credentials
      description: Get the transaction hash list of input payment credential array, optionally filtering after specified block height (inclusive)
  /address_assets: #RPC
    post:
      tags:
        - Address
      requestBody:
        $ref: "#/components/requestBodies/payment_addresses"
      responses:
        "200":
          description: Array of address-owned assets
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/address_assets"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Address Assets
      description: Get the list of all the assets (policy, name and quantity) for given addresses

  /account_list:
    get:
      tags:
        - Stake Account
      responses:
        "200":
          description: Array of account (stake address) IDs
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/account_list"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Account List
      description: Get a list of all stake addresses that have atleast 1 transaction
  /account_info: #RPC
    post:
      tags:
        - Stake Account
      requestBody:
        $ref: "#/components/requestBodies/stake_addresses"
      responses:
        "200":
          description: Array of account information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/account_info"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Account Information
      description: Get the account information for given stake addresses
  /account_info_cached: #RPC
    post:
      tags:
        - Stake Account
      requestBody:
        $ref: "#/components/requestBodies/stake_addresses"
      responses:
        "200":
          description: Array of account information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/account_info"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Account Information (Cached)
      description: Get the cached account information for given stake addresses (effective for performance query against registered accounts)
  /account_utxos: #RPC
    post:
      tags:
        - Stake Account
      requestBody:
        $ref: "#/components/requestBodies/stake_addresses_with_extended"
      responses:
        "200":
          description: Array of account UTxOs associated with given stake addresses
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utxo_infos"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: UTxOs for stake addresses (accounts)
      description: Get a list of all UTxOs for given stake addresses (account)s
  /account_txs: #RPC
    get:
      tags:
        - Stake Account
      parameters:
        - $ref: "#/components/parameters/_stake_address"
        - $ref: "#/components/parameters/_after_block_height"
      responses:
        "200":
          description: Array of Txs associated with stake address (account)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/address_txs"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Account Txs
      description: Get a list of all Txs for a given stake address (account)
  /account_rewards: #RPC
    post:
      tags:
        - Stake Account
      requestBody:
        $ref: "#/components/requestBodies/stake_addresses_with_epoch_no"
      responses:
        "200":
          description: Array of reward history information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/account_rewards"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Account Rewards
      description: >-
        Get the full rewards history (including MIR) for given stake addresses
  /account_updates: #RPC
    post:
      tags:
        - Stake Account
      requestBody:
        $ref: "#/components/requestBodies/stake_addresses"
      responses:
        "200":
          description: Array of account updates information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/account_updates"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Account Updates
      description: >-
        Get the account updates (registration, deregistration, delegation and
        withdrawals) for given stake addresses
  /account_addresses: #RPC
    post:
      tags:
        - Stake Account
      requestBody:
        $ref: "#/components/requestBodies/stake_addresses_with_first_only_and_empty"
      responses:
        "200":
          description: Array of payment addresses
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/account_addresses"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Account Addresses
      description: Get all addresses associated with given staking accounts
  /account_assets: #RPC
    post:
      tags:
        - Stake Account
      requestBody:
        $ref: "#/components/requestBodies/stake_addresses"
      responses:
        "200":
          description: Array of assets owned by account
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/account_assets"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Account Assets
      description: Get the native asset balance for a given stake address
  /account_history: #RPC
    post:
      tags:
        - Stake Account
      requestBody:
        $ref: "#/components/requestBodies/stake_addresses_with_epoch_no"
      responses:
        "200":
          description: Array of active stake values per epoch
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/account_history"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Account History
      description: Get the staking history of given stake addresses (accounts)

  /asset_list:
    get:
      tags:
        - Asset
      responses:
        "200":
          description: Array of policy IDs and asset names
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/asset_list"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Asset List
      description: Get the list of all native assets (paginated)
  /policy_asset_list: #RPC
    get:
      tags:
        - Asset
      parameters:
        - $ref: "#/components/parameters/_asset_policy"
      responses:
        "200":
          description: Array of detailed information of assets under the same policy
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/policy_asset_list"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Policy Asset List
      description: Get the list of asset under the given policy (including balances)
  /asset_token_registry:
    get:
      tags:
        - Asset
      responses:
        "200":
          description: Array of token registry information for each asset
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/asset_token_registry"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Asset Token Registry
      description: Get a list of assets registered via token registry on github
  /asset_info: #RPC
    post:
      tags:
        - Asset
      requestBody:
        $ref: "#/components/requestBodies/asset_list"
      responses:
        "200":
          description: Array of detailed asset information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/asset_info"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Asset Information (Bulk)
      description: Get the information of a list of assets including first minting & token registry metadata
  /asset_utxos: #RPC
    post:
      tags:
        - Asset
      requestBody:
        $ref: "#/components/requestBodies/asset_list_with_extended"
      responses:
        "200":
          description: Array of UTXOs for given asset list
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utxo_infos"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Asset UTXOs
      description: Get the UTXO information of a list of assets including
  /asset_history: #RPC
    get:
      tags:
        - Asset
      parameters:
        - $ref: "#/components/parameters/_asset_policy"
        - $ref: "#/components/parameters/_asset_name"
      responses:
        "200":
          description: Array of asset mint/burn history
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/asset_history"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Asset History
      description: Get the mint/burn history of an asset
  /asset_addresses: #RPC
    get:
      tags:
        - Asset
      parameters:
        - $ref: "#/components/parameters/_asset_policy"
        - $ref: "#/components/parameters/_asset_name"
      responses:
        "200":
          description: Array of payment addresses holding the given token (including balances)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/asset_addresses"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Asset Addresses
      description: Get the list of all addresses holding a given asset <br><br>
        `Note - Due to cardano's UTxO design and usage from projects, asset to addresses map can be infinite. Thus, for a small subset of active projects 
        with millions of transactions, these might end up with timeouts (HTTP code 504) on free layer. Such large-scale projects are free to subscribe to 
        query layers to have a dedicated cache table for themselves served via Koios.`
  /asset_nft_address: #RPC
    get:
      tags:
        - Asset
      parameters:
        - $ref: "#/components/parameters/_asset_policy_nft"
        - $ref: "#/components/parameters/_asset_name_nft"
      responses:
        "200":
          description: Payment addresses currently holding the given NFT
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/asset_nft_address"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: NFT Address
      description: Get the address where specified NFT currently reside on.
  /policy_asset_addresses: #RPC
    get:
      tags:
        - Asset
      parameters:
        - $ref: "#/components/parameters/_asset_policy"
      responses:
        "200":
          description: Array of asset names and payment addresses for the given policy (including balances)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/policy_asset_addresses"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Policy Asset Address List
      description: Get the list of addresses with quantity for each asset on the given policy <br><br>
        `Note - Due to cardano's UTxO design and usage from projects, asset to addresses map can be infinite. Thus, for a small subset of active projects 
        with millions of transactions, these might end up with timeouts (HTTP code 504) on free layer. Such large-scale projects are free to subscribe to 
        query layers to have a dedicated cache table for themselves served via Koios.`
  /policy_asset_info: #RPC
    get:
      tags:
        - Asset
      parameters:
        - $ref: "#/components/parameters/_asset_policy"
      responses:
        "200":
          description: Array of detailed information of assets under the same policy
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/policy_asset_info"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Policy Asset Information
      description: Get the information for all assets under the same policy
  /asset_summary: #RPC
    get:
      tags:
        - Asset
      parameters:
        - $ref: "#/components/parameters/_asset_policy"
        - $ref: "#/components/parameters/_asset_name"
      responses:
        "200":
          description: Array of asset summary information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/asset_summary"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Asset Summary
      description: Get the summary of an asset (total transactions exclude minting/total wallets include only wallets with asset balance)
  /asset_txs: #RPC
    get:
      tags:
        - Asset
      parameters:
        - $ref: "#/components/parameters/_asset_policy"
        - $ref: "#/components/parameters/_asset_name"
        - $ref: "#/components/parameters/_after_block_height"
        - $ref: "#/components/parameters/_history"
      responses:
        "200":
          description: An array of Tx hashes that included the given asset (latest first)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/address_txs"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Asset Transactions
      description: Get the list of current or all asset transaction hashes (newest first)
  /asset_address_list: #RPC
    get:
      tags:
        - Asset
      deprecated: true
      parameters:
        - $ref: "#/components/parameters/_asset_policy"
        - $ref: "#/components/parameters/_asset_name"
      responses:
        "200":
          description: Array of payment addresses holding the given token (including balances)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/asset_addresses"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Asset Address List
      description: Get the list of all addresses holding a given asset [DEPRECATED - replaced by asset_addresses]
  /asset_policy_info: #RPC
    get:
      deprecated: true
      tags:
        - Asset
      parameters:
        - $ref: "#/components/parameters/_asset_policy"
      responses:
        "200":
          description: Array of detailed information of assets under the same policy
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/policy_asset_info"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Asset Policy Information
      description: Get the information for all assets under the same policy (DEPRECATED - replaced by policy_asset_info)

  /pool_list: #RPC
    get:
      tags:
        - Pool
      responses:
        "200":
          description: Array of pool IDs and tickers
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pool_list"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Pool List
      description: List of brief info for all pools
  /pool_info: #RPC
    post:
      tags:
        - Pool
      requestBody:
        $ref: "#/components/requestBodies/pool_ids"
      responses:
        "200":
          description: Array of pool information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pool_info"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Pool Information
      description: Current pool statuses and details for a specified list of pool ids
  /pool_stake_snapshot: #RPC
    get:
      tags:
        - Pool
      parameters:
        - $ref: "#/components/parameters/_pool_bech32"
      responses:
        "200":
          description: Array of pool stake information for 3 snapshots
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pool_snapshot"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Pool Stake Snapshot
      description: Returns Mark, Set and Go stake snapshots for the selected pool, useful for leaderlog calculation
  /pool_delegators: #RPC
    get:
      tags:
        - Pool
      parameters:
        - $ref: "#/components/parameters/_pool_bech32"
      responses:
        "200":
          description: Array of pool delegator information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pool_delegators"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Pool Delegators List
      description: Return information about live delegators for a given pool.
  /pool_delegators_history: #RPC
    get:
      tags:
        - Pool
      parameters:
        - $ref: "#/components/parameters/_pool_bech32"
        - $ref: "#/components/parameters/_epoch_no"
      responses:
        "200":
          description: Array of pool delegator information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pool_delegators_history"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Pool Delegators History
      description: Return information about active delegators (incl. history) for a given pool and epoch number (all epochs if not specified).
  /pool_blocks: #RPC
    get:
      tags:
        - Pool
      parameters:
        - $ref: "#/components/parameters/_pool_bech32"
        - $ref: "#/components/parameters/_epoch_no"
      responses:
        "200":
          description: Array of blocks created by pool
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pool_blocks"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Pool Blocks
      description: >-
        Return information about blocks minted by a given pool for all epochs
        (or _epoch_no if provided)
  /pool_history: #RPC
    get:
      tags:
        - Pool
      parameters:
        - $ref: "#/components/parameters/_pool_bech32"
        - $ref: "#/components/parameters/_epoch_no"
      responses:
        "200":
          description: Array of pool history information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pool_history_info"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Pool Stake, Block and Reward History
      description: >-
        Return information about pool stake, block and reward history in a given epoch _epoch_no
        (or all epochs that pool existed for, in descending order if no _epoch_no was provided)
  /pool_updates: #RPC
    get:
      tags:
        - Pool
      parameters:
        - $ref: "#/components/parameters/_pool_bech32_optional"
          required: false
      responses:
        "200":
          description: Array of historical pool updates
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pool_updates"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Pool Updates (History)
      description: Return all pool updates for all pools or only updates for specific pool if specified
  /pool_registrations: #RPC
    get:
      tags:
        - Pool
      parameters:
        - $ref: "#/components/parameters/_epoch_no"
      responses:
        "200":
          description: Array of historical pool updates
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pool_registrations"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Pool Registrations
      description: Return all pool registrations initiated in the requested epoch
  /pool_retirements: #RPC
    get:
      tags:
        - Pool
      parameters:
        - $ref: "#/components/parameters/_epoch_no"
      responses:
        "200":
          description: Array of historical pool updates
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pool_registrations"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Pool Retirements
      description: Return all pool retirements initiated in the requested epoch
  /pool_relays: #RPC
    get:
      tags:
        - Pool
      responses:
        "200":
          description: Array of pool relay information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pool_relays"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Pool Relays
      description: A list of registered relays for all pools
  /pool_metadata: #RPC
    post:
      tags:
        - Pool
      requestBody:
        $ref: "#/components/requestBodies/pool_ids_optional"
      responses:
        "200":
          description: Array of pool metadata
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pool_metadata"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Pool Metadata
      description: Metadata (on & off-chain) for all pools

  /script_info: #RPC
    post:
      tags:
        - Script
      requestBody:
        $ref: "#/components/requestBodies/script_hashes"
      responses:
        "200":
          description: List of datum information for given datum hashes
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/script_info"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Datum Information
      description: List of datum information for given datum hashes
  /native_script_list: #RPC
    get:
      tags:
        - Script
      responses:
        "200":
          description: List of native script and creation tx hash pairs
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/script_list"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Native Script List
      description: List of all existing native script hashes along with their creation transaction hashes
  /plutus_script_list: #RPC
    get:
      tags:
        - Script
      responses:
        "200":
          description: List of Plutus script and creation tx hash pairs
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/script_list"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Plutus Script List
      description: List of all existing Plutus script hashes along with their creation transaction hashes
  /script_redeemers: #RPC
    get:
      tags:
        - Script
      parameters:
        - $ref: "#/components/parameters/_script_hash"
      responses:
        "200":
          description: List of all redeemers for a given script hash
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/script_redeemers"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Script Redeemers
      description: List of all redeemers for a given script hash
  /script_utxos: #RPC
    get:
      tags:
        - Script
      parameters:
        - $ref: "#/components/parameters/_script_hash"
        - $ref: "#/components/parameters/_extended"
      responses:
        "200":
          description: List of UTXOs for a given script hash
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utxo_infos"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Script UTXOs
      description: List of all UTXOs for a given script hash
  /datum_info: #RPC
    post:
      tags:
        - Script
      requestBody:
        $ref: "#/components/requestBodies/datum_hashes"
      responses:
        "200":
          description: List of datum information for given datum hashes
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/datum_info"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
      summary: Datum Information
      description: List of datum information for given datum hashes
  /ogmios/?EvaluateTransaction: #ogmios-api
    post:
      tags:
        - Ogmios
      x-code-samples:
        - lang: "Shell"
          source: |
            # Assuming ${data} contains EvaluateTransaction payload as documented on Ogmios v6 site.
            curl -X POST \
                --header "Content-Type: application/cbor" \
                --data-binary ${data} https://api.koios.rest/api/ogmios/?EvaluateTransaction
      responses:
        "200":
          description: OK
        "400":
          description: An error occured while submitting transaction.
      summary: Evaluate Transaction
      description: Evaluate execution units of scripts in a well-formed transaction. Please refer to Ogmios documentation [here](https://ogmios.dev/api/#operation-publish-/?EvaluateTransaction) for complete spec
  /ogmios/?SubmitTransaction: #ogmios-api
    post:
      tags:
        - Ogmios
      x-code-samples:
        - lang: "Shell"
          source: |
            # Assuming ${data} contains a CBOR-serialized signed transaction (base16-encoded) as documented on Ogmios v6 site.
            curl -X POST \
                --header "Content-Type: application/cbor" \
                --data-binary ${data} https://api.koios.rest/api/ogmios/?SubmitTransaction
      responses:
        "200":
          description: OK
        "400":
          description: An error occured while querying transaction.
      summary: Submit Transaction
      description: Submit a signed and serialized transaction to the network. Please refer to Ogmios documentation [here](https://ogmios.dev/api/#operation-publish-/?SubmitTransaction) for complete spec

components:
  #!params!#
  #!requestBodies!#
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  #!schemas!#
  headers: {}
  responses:
    OK:
      description: Success!
    NotFound:
      description: The server does not recognise the combination of endpoint and parameters provided
    Unauthorized:
      description: Access token is missing or invalid
    PartialContent:
      description: The result was truncated
    BadRequest:
      description: The server cannot process the request due to invalid input
tags:
  - name: Network
    description: Query information about the network
    x-tag-expanded: false
  - name: Epoch
    description: Query epoch-specific details
    x-tag-expanded: false
  - name: Block
    description: Query information about particular block on chain
    x-tag-expanded: false
  - name: Transactions
    description: Query blockchain transaction details
    x-tag-expanded: false
  - name: Stake Account
    description: Query details about specific stake account addresses
    x-tag-expanded: false
  - name: Address
    description: Query information about specific address(es)
    x-tag-expanded: false
  - name: Asset
    description: Query Asset related informations
    x-tag-expanded: false
  - name: Pool
    description: Query information about specific pools
    x-tag-expanded: false
  - name: Script
    description: Query information about specific scripts (Smart Contracts)
    x-tag-expanded: false
security:
  - bearerAuth: []
